# Stepbystep

В этом расширении собраны инструменты для организации заданий, последовательности выполнения упражнений, наглядного изображения элементов инструкции.

## Установка

```bash
quarto add skyfroger/stepbystep
```

## Шаги задания и самостоятельная работа

Чтобы оформить набор действий в один шаг инструкции, их нужно обернуть в элемент с классом `.sbsaction`. Задания для самостоятельного выполнения размещаются внутри блока с классом `.sbstask`. Пример разметки:

```markdown
:::{.sbsaction}
Первое действие.
:::

Пояснения

:::{.sbsaction}
Второе действие.
:::

Дальнейшие пояснения

:::{.sbstask}
Что нужно сделать самостоятельно.
:::
```

В каждом блоке есть галочка, с помощью которой учащийся может отметить выполненный им шаг задания. Это поможет отследить прогресс выполнения задания и не запутаться.

С помощью шорткода `sbsreset` добавляется кнопка, которая убирает все галочки с выполненных блоков:

```markdown
{{< sbsreset >}}
```

## Подсветка элементов изображения

Шорткоды `element` и `pin` создают элементы оформления, которые указывают на подсвечиваемые области изображения:

```markdown
Подключите {{< element фоторезистор  hl="ldr" >}} одним из контактов к пину {{< pin 14  hl="pin14-02" >}}.
```

В обоих шорткодах параметр `hl` содержит id элемента, который нужно подсветить. Параметр не обязателен.

Изображение, элементы которого нужно подсветить помещается в блок с классом `.hl-container`. Кроме изображения в контейнер помещаются шорткоды `hl` в которых указывается id этого элемента подсветки (см. параметр `hl` в шорткоде `element` или `pin`), а также параметр `pos`, который содержит значение атрибутов `top`, `left`, `width` и `height` разделённые пробелом. Значение атрибутов указывается в процентах.

Полный пример разметки:

```markdown
Подключите {{< element фоторезистор  hl="ldr" >}} одним из контактов к пину {{< pin 14  hl="pin14-02" >}}.

:::{.hl-container}

![](image.png)

{{< hl pin14-02 pos="39 75.3 3 5" >}}

{{< hl ldr pos="56 22.3 18 11" >}}

:::
```

Если подвести мышь к элементу, пину или элементу изображения, появится стрелка.

Имена идентификаторов в параметре `hl` и в соответствующем шорткоде должны быть уникальными. Иначе стрелки и подсветка будут работать неправильно.

## Хотспот

Шорткод `hs` позволяет добавить активную точку с всплывающей подсказкой на изображение:

```markdown
{{{< hs "Текст подсказки" left top marker="1" >}}}
```

Параметры шорткода:

- текст подсказки;
- относительный отступ слева от края изображения;
- относительный отступ сверху от края изображения;
- `marker` - текст внутри маркера; значение обязательно берётся **в кавычки**.

Пример разметки:

````markdown
:::{.hl-container}

![](image.png)

{{{< hs "Светодиод с резистором, ограничивающим ток." 73 66 marker="1" >}}}

{{{< hs "Фоторезистор меняет своё сопротивление в зависимости от уровня освещённости" 19.5 55 >}}}

:::{.sbshs left=45 top=20 marker=2}

Следующий код включит светодиод:

```python
from machine import Pin
led = Pin(12, Pin.OUT)
led.on()
```

:::

:::
````